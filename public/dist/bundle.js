!function(n){var e={};function t(a){if(e[a])return e[a].exports;var i=e[a]={i:a,l:!1,exports:{}};return n[a].call(i.exports,i,i.exports,t),i.l=!0,i.exports}t.m=n,t.c=e,t.d=function(n,e,a){t.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:a})},t.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,e){if(1&e&&(n=t(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var a=Object.create(null);if(t.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var i in n)t.d(a,i,function(e){return n[e]}.bind(null,i));return a},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="/",t(t.s=22)}([function(n,e,t){"use strict";var a=Object.prototype.hasOwnProperty;function i(n,e){return Array.isArray(n)?function(n,e){for(var t,a="",r="",s=Array.isArray(e),o=0;o<n.length;o++)(t=i(n[o]))&&(s&&e[o]&&(t=l(t)),a=a+r+t,r=" ");return a}(n,e):n&&"object"==typeof n?function(n){var e="",t="";for(var i in n)i&&n[i]&&a.call(n,i)&&(e=e+t+i,t=" ");return e}(n):n||""}function r(n){if(!n)return"";if("object"==typeof n){var e="";for(var t in n)a.call(n,t)&&(e=e+t+":"+n[t]+";");return e}return n+""}function s(n,e,t,a){return!1!==e&&null!=e&&(e||"class"!==n&&"style"!==n)?!0===e?" "+(a?n:n+'="'+n+'"'):("function"==typeof e.toJSON&&(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),t||-1===e.indexOf('"'))?(t&&(e=l(e))," "+n+'="'+e+'"'):" "+n+"='"+e.replace(/'/g,"&#39;")+"'"):""}e.merge=function n(e,t){if(1===arguments.length){for(var a=e[0],i=1;i<e.length;i++)a=n(a,e[i]);return a}for(var s in t)if("class"===s){var o=e[s]||[];e[s]=(Array.isArray(o)?o:[o]).concat(t[s]||[])}else if("style"===s){var o=r(e[s]);o=o&&";"!==o[o.length-1]?o+";":o;var l=r(t[s]);l=l&&";"!==l[l.length-1]?l+";":l,e[s]=o+l}else e[s]=t[s];return e},e.classes=i,e.style=r,e.attr=s,e.attrs=function(n,e){var t="";for(var o in n)if(a.call(n,o)){var l=n[o];if("class"===o){l=i(l),t=s(o,l,!1,e)+t;continue}"style"===o&&(l=r(l)),t+=s(o,l,!1,e)}return t};var o=/["&<>]/;function l(n){var e=""+n,t=o.exec(e);if(!t)return n;var a,i,r,s="";for(a=t.index,i=0;a<e.length;a++){switch(e.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}i!==a&&(s+=e.substring(i,a)),i=a+1,s+=r}return i!==a?s+e.substring(i,a):s}e.escape=l,e.rethrow=function n(e,a,i,r){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&a||r))throw e.message+=" on line "+i,e;try{r=r||t(12).readFileSync(a,"utf8")}catch(t){n(e,null,i)}var s=3,o=r.split("\n"),l=Math.max(i-s,0),u=Math.min(o.length,i+s);var s=o.slice(l,u).map(function(n,e){var t=e+l+1;return(t==i?"  > ":"    ")+t+"| "+n}).join("\n");e.path=a;e.message=(a||"Pug")+":"+i+"\n"+s+"\n\n"+e.message;throw e}},function(n,e,t){"use strict";n.exports=function(n){var e=[];return e.toString=function(){return this.map(function(e){var t=function(n,e){var t=n[1]||"",a=n[3];if(!a)return t;if(e&&"function"==typeof btoa){var i=(s=a,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),r=a.sources.map(function(n){return"/*# sourceURL="+a.sourceRoot+n+" */"});return[t].concat(r).concat([i]).join("\n")}var s;return[t].join("\n")}(e,n);return e[2]?"@media "+e[2]+"{"+t+"}":t}).join("")},e.i=function(n,t){"string"==typeof n&&(n=[[null,n,""]]);for(var a={},i=0;i<this.length;i++){var r=this[i][0];null!=r&&(a[r]=!0)}for(i=0;i<n.length;i++){var s=n[i];null!=s[0]&&a[s[0]]||(t&&!s[2]?s[2]=t:t&&(s[2]="("+s[2]+") and ("+t+")"),e.push(s))}},e}},,function(n,e,t){t(0);n.exports=function(n){var e="",t=n||{};return function(n){e+='<header class="menu-header"><h1>Logic game</h1><nav>',null===n.name?e+='<a class="menu-button" href="sign_in" data-href="sign_in">Sign In</a><a class="menu-button" href="sign_up" data-href="sign_up">Sign Up</a>':e+='<a class="menu-button" href="profile" data-href="profile">Profile</a><a class="menu-button" href="sign_out" data-href="sign_out">Sign Out</a>',e+='</nav></header><section data-section-name="menu"><div class="menu-wrapper" id="main"><div class="menu-wrapper__menu" id="menu"><a class="menu__link" href="sign_in" data-href="sign_in">Играть вдвоем</a><a class="menu__link" href="sign_up" data-href="sign_up">Играть одному</a><a class="menu__link" href="leaders" data-href="leaders">Таблица лидеров</a><a class="menu__link" href="about" data-href="about">О нас</a></div></div></section>'}.call(this,"data"in t?t.data:"undefined"!=typeof data?data:void 0),e}},function(n,e,t){t(0);n.exports=function(n){var e="",t=n||{};return function(n){e+="<h1>Logic game</h1><nav>",null===n.name?e+='<a class="menu-button" href="sign_in" data-href="sign_in">Sign In</a><a class="menu-button" href="sign_up" data-href="sign_up">Sign Up</a>':e+='<a class="menu-button" href="profile" data-href="profile">Profile</a><a class="menu-button" href="sign_out" data-href="sign_out">Sign Out</a>',e+="</nav>"}.call(this,"data"in t?t.data:"undefined"!=typeof data?data:void 0),e}},function(n,e,t){t(0);n.exports=function(n){var e="",t=n||{};return function(n){e+='<header class="menu-header"><h1>Logic game</h1><nav>',null===n.name?e+='<a class="menu-button" href="sign_in" data-href="sign_in">Sign In</a><a class="menu-button" href="sign_up" data-href="sign_up">Sign Up</a>':e+='<a class="menu-button" href="profile" data-href="profile">Profile</a><a class="menu-button" href="sign_out" data-href="sign_out">Sign Out</a>',e+='</nav></header><section data-section-name="about"><div class="about"><div class="about__wrapper"><div class="team"><div class="team__name"><a class="team__a" href="https://github.com/dlipko">Дмитрий Липко</a></div><div class="team__role">Лучший ментор</div><div class="team__name"><a class="team__a" href="https://github.com/SmartPhoneJava">Артём Доктор</a></div><div class="team__role">Fullstack</div><div class="team__name"><a class="team__a" href="https://github.com/slevinsps">Иван Спасенов</a></div><div class="team__role">Fullstack</div><div class="team__name"><a class="team__a" href="https://github.com/Bigyin1">Сергей Апарин</a></div><div class="team__role">Fullstack</div></div><a class="back" data-href="menu" href="menu">Назад в меню</a></div></div></section>'}.call(this,"data"in t?t.data:"undefined"!=typeof data?data:void 0),e}},function(n,e,t){t(0);n.exports=function(n){var e="";return e+='<section data-section-name="leaderboard"><h1 class="leaderboard__header">Таблица лидеров</h1><br><div class="leaderboard"><div class="leaderboard__wrapper"></div><div class="leaderboard__controls"><img class="arrow arrow__inactive" src="../../img/arrow-left.png"><img class="arrow" src="../../img/arrow-right.png"></div><a class="back" data-href="menu" href="menu">Назад в меню</a></div></section>'}},function(n,e,t){var a=t(0);n.exports=function(n){var e,t="",i=n||{};return function(n){t+="<table><thead><tr><th>User</th><th>Best Score</th><th>Best Time</th></tr></thead><tbody></tbody>";for(var i=0;i<n.length;i++)t=t+"<tr><td>"+a.escape(null==(e=n[i].name)?"":e)+"</td><td>"+a.escape(null==(e=n[i].bestScore.String||0)?"":e)+"</td><td>"+a.escape(null==(e=n[i].bestTime.String||0)?"":e)+"</td></tr>";t+="</table>"}.call(this,"data"in i?i.data:"undefined"!=typeof data?data:void 0),t}},function(n,e,t){t(0);n.exports=function(n){var e="",t=n||{};return function(n){e+='<header class="menu-header"><h1>Logic game</h1><nav>',null===n.name?e+='<a class="menu-button" href="sign_in" data-href="sign_in">Sign In</a><a class="menu-button" href="sign_up" data-href="sign_up">Sign Up</a>':e+='<a class="menu-button" href="profile" data-href="profile">Profile</a><a class="menu-button" href="sign_out" data-href="sign_out">Sign Out</a>',e+='</nav></header><section class="signup"><form class="signup__form" novalidate="novalidate"><input class="input signup__input text-h2" type="email" name="email" autofocus="true" placeholder="Email"><div class="warning signup__warning hidden js-warning-email"></div><input class="input signup__input text-h2" type="password" name="password" autocomplete="autocomplete" placeholder="Password"><div class="warning signup__warning hidden js-warning-password"></div><input class="button signup__submit text-h2" type="submit" name="submit" value="Sign in"><div class="signup__footer"><a class="button header-bar__button text-base" data-href="menu" href="menu">Back to Menu</a><div class="text-base">or</div><a class="button header-bar__button text-base" data-href="sign_up" href="sign_up">Sign Up</a></div></form></section>'}.call(this,"data"in t?t.data:"undefined"!=typeof data?data:void 0),e}},function(n,e,t){t(0);n.exports=function(n){var e="",t=n||{};return function(n){e+='<header class="menu-header"><h1>Logic game</h1><nav>',null===n.name?e+='<a class="menu-button" href="sign_in" data-href="sign_in">Sign In</a><a class="menu-button" href="sign_up" data-href="sign_up">Sign Up</a>':e+='<a class="menu-button" href="profile" data-href="profile">Profile</a><a class="menu-button" href="sign_out" data-href="sign_out">Sign Out</a>',e+='</nav></header><section class="signup"><form class="signup__form" novalidate="novalidate"><input class="input signup__input text-h2" type="email" name="email" autocomplete="autocomplete" autofocus="true" placeholder="Email"><div class="warning signup__warning hidden js-warning-email"></div><input class="input signup__input text-h2" type="login" name="login" autocomplete="autocomplete" autofocus="true" placeholder="Login"><div class="warning signup__warning hidden js-warning-login"></div><input class="input signup__input text-h2" type="password" name="password"  autocomplete="new-password" placeholder="Password"><div class="warning signup__warning hidden js-warning-password"></div><input class="input signup__input text-h2" type="password" name="password-repeat"  autocomplete="new-password" placeholder="Repeat Password"><div class="warning signup__warning hidden js-warning-repassword"></div><input class="button signup__submit text-h2" type="submit" name="submit" value="Sign up"><div class="signup__footer"><a class="button header-bar__button text-base" data-href="menu" href="menu">Back to Menu</a><div class="text-base">or</div><a class="button header-bar__button text-base" data-href="sign_in" href="sign_in">Sign In</a></div></form></section>'}.call(this,"data"in t?t.data:"undefined"!=typeof data?data:void 0),e}},function(n,e,t){var a=t(0);n.exports=function(n){var e="",t=n||{};return function(n){e+='<header class="menu-header"><h1>Logic game</h1><nav>',null===n.name?e+='<a class="menu-button" href="sign_in" data-href="sign_in">Sign In</a><a class="menu-button" href="sign_up" data-href="sign_up">Sign Up</a>':e+='<a class="menu-button" href="profile" data-href="profile">Profile</a><a class="menu-button" href="sign_out" data-href="sign_out">Sign Out</a>',e=e+'</nav></header><section data-section-name="profile"><div class="profile"> <div class="profile__wrapper"><div class="profile__main">       <div class="profile__info"><form class="profile__form" novalidate="novalidate"><div class="profile__avatar"><div class="profile__name">Avatar</div><span class="inner" id="output"></span><label class="custom-file-upload button" for="file">Load avatar</label><input id="file" type="file"></div><div class="profile__data"><div class="profile__row"><div class="profile__name">Login</div><input class="input signup__input text-h2" type="login" name="login"'+a.attr("value",n.name,!0,!0)+'><div class="warning signup__warning hidden js-warning-login"></div></div><div class="profile__row"><div class="profile__name">Email</div><input class="input signup__input text-h2" type="email" name="email"'+a.attr("value",n.email,!0,!0)+'><div class="warning signup__warning hidden js-warning-email"></div></div><div class="profile__row"><div class="profile__name">Password</div><input class="input signup__input text-h2" type="password" name="password" placeholder="******" autocomplete="new-password"><div class="warning signup__warning hidden js-warning-password"></div></div><div class="profile__row"><div class="profile__name">Repeat password</div><input class="input signup__input text-h2" type="password" name="password-repeat" placeholder="******" autocomplete="new-password"><div class="warning signup__warning hidden js-warning-repassword"></div></div><div class="profile__row"><input class="change__submit button" id="submit_changes" type="submit" name="submit" value="Изменить данные"></div></div></form><div class="profile__footer"><br><hr><br><div class="profile__row"><div class="hrefBackToMenu"> <a class="back" data-href="menu" href="menu">Назад в меню</a></div></div></div></div></div></div></div></section>'}.call(this,"data"in t?t.data:"undefined"!=typeof data?data:void 0),e}},function(n,e){var t="/sw.js";Object.defineProperty(e,"__esModule",{value:!0}),e.default={register:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!!navigator.serviceWorker&&navigator.serviceWorker.register(t,n)}},n.exports=e.default},function(n,e){},function(n,e,t){var a=t(14);"string"==typeof a&&(a=[[n.i,a,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};t(20)(a,i);a.locals&&(n.exports=a.locals)},function(n,e,t){(e=n.exports=t(1)(!1)).i(t(15),""),e.i(t(16),""),e.i(t(17),""),e.i(t(18),""),e.i(t(19),""),e.push([n.i,"",""])},function(n,e,t){(n.exports=t(1)(!1)).push([n.i,".about__header {\n  text-align: center;\n  padding-top: 1.5rem;\n}\n\n.about {\n  display: flex;\n  justify-content: center;\n  height: 80vh;\n  background: white;\n}\n\n.about__wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.team {\n  margin: 1vmin;\n  margin-top: 4vmin;\n  display: grid;\n  font-size: 2.5vmin;\n  grid-template-columns: 1.5fr 1.5fr;\n  width: 70vmin;\n}\n\n.team__name,\n.team__role {\n  padding: 1vmin;\n  text-align: center;\n}\n\n.team__a {\n  color: black;\n  text-decoration: none\n}\n\n.team__a:hover{\n  text-decoration: underline\n}",""])},function(n,e,t){(n.exports=t(1)(!1)).push([n.i,".leaderboard__header {\n  text-align: center;\n  padding-top: 1.5rem;\n}\n\n.leaderboard {\n  display: flex;\n  justify-content: center;\n  flex-direction: column;\n  height: 80vh;\n  background: white;\n  align-items: center\n}\n\n.leaderboard__wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-width: fit-content;\n}\n\n.leaderboard table {\n  text-align: left;\n}\n\n.leaderboard__controls{\n  margin-top: 15px;\n  display: flex;\n  justify-content: space-between;\n  min-width: 6rem;\n}\n.arrow{\n  cursor: pointer;\n}\n.arrow__inactive{\n  opacity: 0.2;\n}\n\n.leaderboard th{\n  font-weight: bold\n}\n\n.leaderboard td,\nth {\n  font-size: calc(1.5vh + .5rem);\n  text-align: center;\n  padding: 0.5rem;\n}",""])},function(n,e,t){(e=n.exports=t(1)(!1)).push([n.i,"@import url(https://fonts.googleapis.com/css?family=Lato:400,700italic);",""]),e.push([n.i,"* {\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\nbody {\r\n  background: #1C78A6;\r\n  font-family: 'Lato', sans-serif;\r\n  letter-spacing: 1px;\r\n}\r\n\r\n.menu-header {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  height: 3em;\r\n  padding: 1em 5%;\r\n  background: #2c3e50;\r\n  color: #fff;\r\n}\r\n\r\n.menu-header nav {\r\n  display: inline-flex;\r\n}\r\n\r\n.menu-header h1 {\r\n  font-size: 2em;\r\n  font-style: italic;\r\n}\r\n\r\n.menu-header nav a {\r\n  white-space: nowrap;\r\n  padding-right: 1em;\r\n}\r\n\r\n@media screen and (max-width: 720px) {\r\n\r\n  .menu-header {\r\n    height: auto;\r\n  }\r\n\r\n  .menu-header nav {\r\n    display: flex;\r\n    flex-direction: column;\r\n    text-align: left;\r\n  }\r\n\r\n  .menu-header nav a:first-child {\r\n    padding-bottom: 0.7em;\r\n  }\r\n\r\n}\r\n\r\n.menu-wrapper {\r\n  display: flex;\r\n  justify-content: center;\r\n  height: 80vh;\r\n}\r\n\r\n.menu-wrapper__menu {\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-evenly;\r\n  height: 40vh;\r\n  margin-top: 20vh;\r\n}\r\n\r\n\r\n.menu__link {\r\n  display: inline-block;\r\n  position: relative;\r\n  padding: 14px 0;\r\n  font-family: 'Muli', sans-serif;\r\n  font-weight: 300;\r\n  font-size: 22px;\r\n  line-height: 1;\r\n  letter-spacing: 0.040em;\r\n}\r\n\r\n.menu__link,\r\n.menu-button {\r\n  text-decoration: none;\r\n\r\n  color: #FFF0FF;\r\n  /* Цвет обычной ссылки */\r\n  text-decoration: none;\r\n  /* Убираем подчеркивание у ссылок */\r\n}\r\n\r\n.menu__link:hover,\r\n.menu-button:hover{\r\n  /* Цвет ссылки при наведении на нее курсора мыши */\r\n  text-decoration: underline;\r\n  /* Добавляем подчеркивание */\r\n}",""])},function(n,e,t){(n.exports=t(1)(!1)).push([n.i,".signup{\n  height: 80vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.signup__form {\n  text-align: center;\n  display: flex;\n  flex-direction: column;\n\n}\n\n.input{\n  padding: 5px 10px;\n  margin: 1.5vh 0;\n  border-radius: 2px;\n  border: 1px solid grey;\n  background-color: #e1e1d7;\n  font-size: calc(1vw + .5rem);\n}\n\n@media screen and (min-width: 720px) {\n  .signup__form{\n    min-width: 35vh;\n  }\n\n}\n\n.signup__submit{\n  border: none;\n  text-align: center;\n  background-color: #fffff2;\n  font-size: calc(1.7vw + .2rem);\n  margin: 1.5vh;\n}\n\n.button{\n  user-select: none;\n  padding: 5px 10px;\n  cursor: pointer;\n  display: inline-block;\n  text-decoration: none;\n  color: #6e4c1a;\n}\n\n.signup__footer{\n  font-size: calc(1vw + .2rem);\n}\n\n.signup__footer .button{\n  color: black\n}\n\n.signup__footer .button:hover{\n  text-decoration: underline\n}\n\n.signup__warning{\n  width: 80%;\n  align-self: center;\n  margin-top: -5px;\n  margin-bottom: 5px;\n}\n\n.warning{\n  font-size: 13px;\n  color: red;\n}\n\n.hidden{\n  display: none !important\n}",""])},function(n,e,t){(n.exports=t(1)(!1)).push([n.i,'.profile__header {\n  text-align: center;\n  padding-top: 1.5rem;\n}\n\n.profile {\n  display: flex;\n  justify-content: center;\n  height: 80vh;\n  background: white;\n}\n\n.profile__wrapper {\n\tflex-direction: column;\n\talign-items: center;\n  justify-content: center;\n  max-height: 100%;\n  margin-top: 18vh;\n}\n\n.profile__main{\n  justify-content: space-around;\n  display: flex;\n  align-items: center;\n}\n\n@media screen and (max-width: 720px) {\n\n  .profile__main{\n    flex-direction: column;\n  }\n}\n\n.profile__info{\n  display: flex;\n  flex-direction: column;\n  min-width: 25vh;\n}\n\n.profile__name{\n  text-align: left;\n  color: #5f3901;\n  margin-bottom: 2px;\n  font-size: 1.8vh;\n}\n\n.profile__value{\n  padding: 5px 20px;\n  text-align: center;\n  background: rgba(230,222,193,.8);\n}\n\n.profile__avatar{\n  display: flex;\n  flex-direction: column;\n  justify-content:space-between ;\n  align-items: center;\n  grid-area: ava;\n}\n\n.profile__form{\n  display: grid;\n  text-align: center;\n}\n\n.profile__data{\n  display: flex;\n  flex-direction: column;\n  grid-area: form;\n}\n\n.profile__form{\ngrid-template-areas:  \n                      "ava form"\n                      "ava from";\ngrid-template-columns: 1fr 1fr;\n}\n\n.avatar__button{\n  width: 50%;\n  margin-top: 1.2rem;\n}\n\n.back{\n  margin-top: 15px;\n  color: black;\n  text-decoration: none;\n  text-align: center;\n}\n\n.back:hover{\n  text-decoration: underline;\n}\n\nimg {\n  display: block;\n  max-width:200px;\n  max-height:200px;\n  width: auto;\n  height: auto;\n  padding: 5px 10px;\n  text-align: center;\n  vertical-align: middle;\n  margin-left: auto;\n  margin-right: auto;\n}\n\ninput[type="file"] {\n  display: none;\n}\n.custom-file-upload {\n  border: 1px solid #ccc;\n  display: inline-block;\n  padding: 6px 12px;\n  cursor: pointer;\n}\n.hrefBackToMenu {\n  text-align: center;\n}',""])},function(n,e,t){var a,i,r={},s=(a=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===i&&(i=a.apply(this,arguments)),i}),o=function(n){var e={};return function(n,t){if("function"==typeof n)return n();if(void 0===e[n]){var a=function(n,e){return e?e.querySelector(n):document.querySelector(n)}.call(this,n,t);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(n){a=null}e[n]=a}return e[n]}}(),l=null,u=0,c=[],d=t(21);function h(n,e){for(var t=0;t<n.length;t++){var a=n[t],i=r[a.id];if(i){i.refs++;for(var s=0;s<i.parts.length;s++)i.parts[s](a.parts[s]);for(;s<a.parts.length;s++)i.parts.push(v(a.parts[s],e))}else{var o=[];for(s=0;s<a.parts.length;s++)o.push(v(a.parts[s],e));r[a.id]={id:a.id,refs:1,parts:o}}}}function p(n,e){for(var t=[],a={},i=0;i<n.length;i++){var r=n[i],s=e.base?r[0]+e.base:r[0],o={css:r[1],media:r[2],sourceMap:r[3]};a[s]?a[s].parts.push(o):t.push(a[s]={id:s,parts:[o]})}return t}function g(n,e){var t=o(n.insertInto);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var a=c[c.length-1];if("top"===n.insertAt)a?a.nextSibling?t.insertBefore(e,a.nextSibling):t.appendChild(e):t.insertBefore(e,t.firstChild),c.push(e);else if("bottom"===n.insertAt)t.appendChild(e);else{if("object"!=typeof n.insertAt||!n.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var i=o(n.insertAt.before,t);t.insertBefore(e,i)}}function f(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n);var e=c.indexOf(n);e>=0&&c.splice(e,1)}function m(n){var e=document.createElement("style");if(void 0===n.attrs.type&&(n.attrs.type="text/css"),void 0===n.attrs.nonce){var a=function(){0;return t.nc}();a&&(n.attrs.nonce=a)}return _(e,n.attrs),g(n,e),e}function _(n,e){Object.keys(e).forEach(function(t){n.setAttribute(t,e[t])})}function v(n,e){var t,a,i,r;if(e.transform&&n.css){if(!(r="function"==typeof e.transform?e.transform(n.css):e.transform.default(n.css)))return function(){};n.css=r}if(e.singleton){var s=u++;t=l||(l=m(e)),a=y.bind(null,t,s,!1),i=y.bind(null,t,s,!0)}else n.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(t=function(n){var e=document.createElement("link");return void 0===n.attrs.type&&(n.attrs.type="text/css"),n.attrs.rel="stylesheet",_(e,n.attrs),g(n,e),e}(e),a=function(n,e,t){var a=t.css,i=t.sourceMap,r=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||r)&&(a=d(a));i&&(a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([a],{type:"text/css"}),o=n.href;n.href=URL.createObjectURL(s),o&&URL.revokeObjectURL(o)}.bind(null,t,e),i=function(){f(t),t.href&&URL.revokeObjectURL(t.href)}):(t=m(e),a=function(n,e){var t=e.css,a=e.media;a&&n.setAttribute("media",a);if(n.styleSheet)n.styleSheet.cssText=t;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(t))}}.bind(null,t),i=function(){f(t)});return a(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;a(n=e)}else i()}}n.exports=function(n,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var t=p(n,e);return h(t,e),function(n){for(var a=[],i=0;i<t.length;i++){var s=t[i];(o=r[s.id]).refs--,a.push(o)}n&&h(p(n,e),e);for(i=0;i<a.length;i++){var o;if(0===(o=a[i]).refs){for(var l=0;l<o.parts.length;l++)o.parts[l]();delete r[o.id]}}}};var w,b=(w=[],function(n,e){return w[n]=e,w.filter(Boolean).join("\n")});function y(n,e,t,a){var i=t?"":a.css;if(n.styleSheet)n.styleSheet.cssText=b(e,i);else{var r=document.createTextNode(i),s=n.childNodes;s[e]&&n.removeChild(s[e]),s.length?n.insertBefore(r,s[e]):n.appendChild(r)}}},function(n,e){n.exports=function(n){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!n||"string"!=typeof n)return n;var t=e.protocol+"//"+e.host,a=t+e.pathname.replace(/\/[^\/]*$/,"/");return n.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(n,e){var i,r=e.trim().replace(/^"(.*)"$/,function(n,e){return e}).replace(/^'(.*)'$/,function(n,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(r)?n:(i=0===r.indexOf("//")?r:0===r.indexOf("/")?t+r:a+r.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(n,e,t){"use strict";t.r(e);var a=t(3),i=t.n(a),r=t(4),s=t.n(r);var o=new class{constructor(){this.listeners={}}on(n,e){this.listeners[n]=this.listeners[n]||[],this.listeners[n].push(e)}off(n,e){this.listeners[n]=this.listeners[n].filter(function(n){return n!==e})}emit(n,e){this.listeners[n].forEach(function(n){n(e)})}};class l{constructor(n,e){this.parent=n,this.parent.hidden=!0,this.template=e,o.on("userUpdate",this.onUserUpdate.bind(this))}get active(){return!this.parent.hidden}hide(){this.parent.hidden=!0}get rendered(){return!(""===this.parent.innerHTML)}show(){this.rendered||this.render(),this.parent.hidden=!1}set data(n=[]){this._data=n}render(){this.parent.innerHTML="",this.parent.innerHTML=this.template({data:this._data})}onUserUpdate(){const n=this.parent.querySelector(".menu-header");n&&(n.innerHTML=s()({data:this._data}))}}const u="http://localhost:8080";class c{static post({host:n=u,url:e="/",body:t={}}={}){return fetch(n+e,{method:"POST",body:JSON.stringify(t),mode:"cors",credentials:"include",headers:{"Content-Type":"application/json; charset=utf-8"}})}static put({host:n=u,url:e="/",body:t={}}={}){return fetch(n+e,{method:"PUT",body:JSON.stringify(t),mode:"cors",credentials:"include",headers:{"Content-Type":"application/json; charset=utf-8"}})}static postPhoto({host:n=u,url:e="/",body:t={}}={}){return fetch(n+e,{method:"POST",body:t,mode:"cors",credentials:"include"})}static get({host:n=u,url:e="/"}={}){return fetch(n+e,{method:"GET",mode:"cors",credentials:"include"})}static delete({host:n=u,url:e="/"}={}){return fetch(n+e,{method:"DELETE",mode:"cors",credentials:"include"})}}const d=new class{constructor(){this.name=null,this.email=null,this.played=null,this.avatar=null}setUser({email:n,played:e,avatar:t,name:a}={}){this.email=n||null,this.played=e||0,this.avatar=t||"./img/qrosh.png",this.name=a||null}removeUser(){this.email=null,this.played=null,this.avatar=null,this.name=null}};var h=t(5),p=t.n(h);console.log("logout on");var g=t(6),f=t.n(g),m=t(7),_=t.n(m);class v{constructor(n){this.parent=n,this.template=_.a}set data(n=[]){this._data=n}render(){this.parent.innerHTML=this.template({data:this._data})}}class w extends l{constructor(n){super(n,f.a),this._currPage=1,o.on("respPagesAmount",this._initBoard.bind(this)),o.on("respPage",n=>{this.board.data=n,this.board.render(),console.log("rerender board")})}render(){super.render(),o.emit("reqPagesAmount"),o.emit("reqPage",1)}_initBoard(n){this._pagesCount=n,this._initButtons(),this.board=new v(this.parent.querySelector(".leaderboard__wrapper")),console.log("initBoard")}_initButtons(){[this._leftArrow,this._rightArrow]=this.parent.querySelectorAll(".arrow"),this._leftArrow.addEventListener("click",this._prevPage.bind(this)),this._rightArrow.addEventListener("click",this._nextPage.bind(this)),1===this._pagesCount&&this._rightArrow.classList.add("arrow__inactive")}_nextPage(){this._currPage!==this._pagesCount&&(o.emit("reqPage",this._currPage+1),1===this._currPage&&this._leftArrow.classList.remove("arrow__inactive"),this._currPage+=1,this._currPage===this._pagesCount&&this._rightArrow.classList.add("arrow__inactive"))}_prevPage(){1!=this._currPage&&(o.emit("reqPage",this._currPage-1),this._currPage===this._pagesCount&&this._rightArrow.classList.remove("arrow__inactive"),this._currPage-=1,1===this._currPage&&this._leftArrow.classList.add("arrow__inactive"))}}class b{constructor(){o.on("reqPagesAmount",this._getPagesAmount.bind(this)),o.on("reqPage",this._getPage.bind(this))}_getPagesAmount(){c.get({url:"/users/pages_amount"}).then(n=>n.json()).then(n=>{const e=n.amount;console.log("Pages amount",e),o.emit("respPagesAmount",e)}).catch(n=>{console.log("getPagesAmount error: ",n)})}_getPage(n){c.get({url:`/users/pages/${n}`}).then(n=>n.json()).then(n=>{o.emit("respPage",n)}).catch(n=>{console.log("getPage error: ",n)})}}var y=new class{constructor(){this.view=w,this.model=new b}},x=t(8),S=t.n(x);const j=["iframe","script"],L=["src","alt"],A=/<(\w+)\s?(.*?)>.*?(<\/(.*?)>)?/,P=/(\w+\s*)=(\s*".*?")/g,U=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/i,k=/^[A-Za-z]\w{3,14}$/i;function T(n){let e="";return!0!==U.test(String(n).toLowerCase())&&(e="Invalid email format",0===n.length&&(e="Fill email field please")),e}function M(n){let e="";return!0!==k.test(n)&&(e="Password must be at least 3 letters",0===n.length&&(e="Fill password field please")),e}function O(n){let e="";return n.length<3&&(e="Login must be at least 3 letters"),e}function E(n=""){return n.replace(A,(n,e)=>j.includes(e)?"":n).replace(P,(n,e)=>L.includes(e)?n:"")}class B extends l{constructor(n){super(n,S.a),o.on("onSuccessLogin",n=>{d.setUser({...n}),o.emit("userUpdate"),X.open("/profile")}),o.on("onFailedLogin",n=>{this._showWarning(this._warnings.email,n.message)})}render(){this.data=d,super.render(),this._warnings={},this._warnings.email=this.parent.querySelector(".js-warning-email"),this._warnings.pass=this.parent.querySelector(".js-warning-password"),this._form=this.parent.querySelector(".signup__form"),this._submitButton=this.parent.querySelector(".signup__submit"),this._submitButton.addEventListener("click",this._onSubmit.bind(this))}_onSubmit(n){n.preventDefault();const e={};e.email=this._form.elements.email.value,e.password=this._form.elements.password.value,this._validateInput(e)&&o.emit("login",e)}_validateInput({email:n,password:e}){let t=!0,a="";return this._hideWarning(this._warnings.email),0!==(a=T(n=E(n))).length&&(this._showWarning(this._warnings.email,a),t=!1),this._hideWarning(this._warnings.pass),0!==(a=M(e=E(e))).length&&(this._showWarning(this._warnings.pass,a),t=!1),t}_showWarning(n,e){n.classList.remove("hidden"),n.innerHTML="",n.innerHTML+=e}_hideWarning(n){n.classList.add("hidden"),n.innerHTML=""}}class W{constructor(){o.on("login",this._login.bind(this))}_login(n){c.post({url:"/session",body:n}).then(n=>{200===n.status?n.json().then(n=>{o.emit("onSuccessLogin",n)}):n.json().then(n=>{o.emit("onFailedLogin",n)})}).catch(n=>{console.log("SignIn failed : ",n)})}}var q=new class{constructor(){this.view=B,this.model=new W}},F=t(9),I=t.n(F);class C extends l{constructor(n){super(n,I.a),o.on("onSuccessAuth",n=>{d.setUser({...n}),o.emit("userUpdate"),X.open("/profile")}),o.on("onFailedAuth",n=>{this._showWarning(this._warnings.email,n.message)})}render(){this.data=d,super.render(),this._warnings={},this._warnings.email=this.parent.querySelector(".js-warning-email"),this._warnings.login=this.parent.querySelector(".js-warning-login"),this._warnings.pass=this.parent.querySelector(".js-warning-password"),this._warnings.repass=this.parent.querySelector(".js-warning-repassword"),this._form=this.parent.querySelector(".signup__form"),this._submitButton=this.parent.querySelector(".signup__submit"),this._submitButton.addEventListener("click",this._onSubmit.bind(this))}_onSubmit(n){console.log("event"),n.preventDefault();const e={};e.email=this._form.elements.email.value,e.name=this._form.elements.login.value,e.password=this._form.elements.password.value,e.repass=this._form.elements["password-repeat"].value,this._validateInput(e)&&(console.log(e),o.emit("auth",e))}_validateInput({email:n,name:e,password:t,repass:a}){let i=!0,r="";return this._hideWarning(this._warnings.email),0!==(r=T(n=E(n))).length&&(this._showWarning(this._warnings.email,r),i=!1),this._hideWarning(this._warnings.login),0!==(r=O(e=E(e))).length&&(this._showWarning(this._warnings.login,r),i=!1),0!==(r=M(t=E(t))).length&&(this._showWarning(this._warnings.pass,r),i=!1),a=E(a),this._hideWarning(this._warnings.repass),a!==t&&(r="Passwords dont match",this._showWarning(this._warnings.repass,r),i=!1),i}_showWarning(n,e){n.classList.remove("hidden"),n.innerHTML="",n.innerHTML+=e}_hideWarning(n){n.classList.add("hidden"),n.innerHTML=""}}class R{constructor(){o.on("auth",this._auth.bind(this))}_auth(n){console.log(n),c.post({url:"/user",body:n}).then(e=>{201===e.status?o.emit("onSuccessAuth",n):e.json().then(n=>{o.emit("onFailedAuth",n)})}).catch(n=>{console.log("SignUp failed : ",n)})}}var H=new class{constructor(){this.view=C,this.model=new R}},D=t(10),N=t.n(D);class z extends l{constructor(n){super(n,N.a),o.on("onSuccessChange",n=>{n.password="",n.repassword="",d.setUser({...n}),o.emit("userUpdate")}),o.on("onFailedChange",n=>{this._showWarning(this._warnings.email,n.message)}),o.on("onSuccessUpload",this._onSuccessUpload.bind(this)),o.on("onFailedUpload",n=>{this._showWarning(this._warnings.email,n.message)}),o.on("onSuccessAvatarGet",this._onSuccessAvatarGet.bind(this)),o.on("onFailedAvatarGet",this._onFailedAvatarGet.bind(this))}render(){this.data=d,super.render(),o.emit("getAvatar"),this._form=this.parent.querySelector(".profile__form"),this._warnings={},this._warnings.email=this.parent.querySelector(".js-warning-email"),this._warnings.login=this.parent.querySelector(".js-warning-login"),this._warnings.pass=this.parent.querySelector(".js-warning-password"),this._warnings.repass=this.parent.querySelector(".js-warning-repassword"),this._changeButton=this.parent.querySelector(".change__submit"),this._changeButton.addEventListener("click",this._onSubmitDataProfile.bind(this)),document.getElementById("file").addEventListener("change",this._handleFileSelect.bind(this),!1)}_onSubmitDataProfile(n){n.preventDefault(),console.log("event _onSubmitDataProfile");const e={};e.email=this._form.elements.email.value,e.name=this._form.elements.login.value,e.password=this._form.elements.password.value,e.repass=this._form.elements["password-repeat"].value,this._validateInput(e)&&(console.log(" Data : "+e.email," ",e.name," ",e.password," ",e.repass),o.emit("changeProfile",e))}_validateInput(n){let e="",t=!0;return this._hideWarning(this._warnings.email),this._hideWarning(this._warnings.login),this._hideWarning(this._warnings.pass),this._hideWarning(this._warnings.repass),n.email=E(n.email),n.email!=this._data.email&&0!==(e=T(n.email)).length&&(this._showWarning(this._warnings.email,e),t=!1),n.name=E(n.name),n.name!=this._data.name&&0!==(e=O(n.name)).length&&(this._showWarning(this._warnings.login,e),t=!1),n.password=E(n.password),n.repass=E(n.repass),""!=n.password&&(0!==(e=M(n.password)).length&&(this._showWarning(this._warnings.pass,e),t=!1),n.repass!==n.password&&(e="Passwords dont match",this._showWarning(this._warnings.repass,e),t=!1)),t}_showWarning(n,e){n.classList.remove("hidden"),n.innerHTML="",n.innerHTML+=e}_hideWarning(n){n.classList.add("hidden"),n.innerHTML=""}_handleFileSelect(n,e=250,t=250){const a=n.target.files[0];a.type.match("image.*")?o.emit("uploadAvatar",a):alert("Image only please....")}_onSuccessUpload(n){const e=new FileReader;e.onload=(n=>(function(e){document.getElementById("output").innerHTML=['<img class="thumb" title="',escape(n.name),'" src="',e.target.result,'" width="250" height="250"  />'].join("")}))(n),e.readAsDataURL(n)}_onFailedAvatarGet(){console.log("Failed to get avatar"),document.getElementById("output").innerHTML=['<img class="thumb" ','" src="./img/qrosh.png" width="250" height="250"  />'].join("")}_onSuccessAvatarGet(n){const e=URL.createObjectURL(n);console.log("_getAvatar"+e),document.getElementById("output").innerHTML=['<img class="thumb" ','" src="',e+'"  />'].join("")}}class G{constructor(){o.on("getAvatar",this._getAvatar.bind(this)),o.on("changeProfile",this._changeProfile.bind(this)),o.on("uploadAvatar",this._uploadAvatar.bind(this))}_changeProfile(n){console.log(n),c.put({url:"/user",body:n}).then(e=>{console.log(e.status),200===e.status?o.emit("onSuccessChange",n):e.json().then(n=>{o.emit("onFailedChange",n)})}).catch(n=>{console.log("Profile change failed : ",n)})}_uploadAvatar(n){const e=new FormData;e.append("file",n),console.log("upload photo"),c.postPhoto({url:"/avatar",body:e}).then(e=>{201===e.status?(o.emit("onSuccessUpload",n),console.log("Okey photo")):e.json().then(n=>{o.emit("onFailedUpload",n)})}).catch(n=>{console.log("Avatar upload error : ",n)})}_getAvatar(){c.get({url:"/avatar"}).then(n=>{if(console.log(n.status),200===n.status){return n.blob()}o.emit("onFailedAvatarGet")}).then(n=>{console.log(n),void 0!==n?o.emit("onSuccessAvatarGet",n):o.emit("onFailedAvatarGet")}).catch(n=>{console.log("Avatar get error : ",n)})}}var J=new class{constructor(){this.view=z,this.model=new G}},$=(t(13),t(11)),V=t.n($);const Z=document.getElementById("application");if("serviceWorker"in navigator){const n=V.a.register();console.log(n)}const K=new class{constructor(n){this.routes={},this.root=n}register(n,e){return this.routes[n]={View:e,view:null,el:null},this}open(n){const e=this.routes[n];if(!e)return void this.open("/");window.location.pathname!==n&&window.history.pushState(null,"",n);let{View:t,view:a,el:i}=e;i||(i=document.createElement("section"),this.root.appendChild(i)),a||(a=new t(i)),a.active||(Object.values(this.routes).forEach(function({view:n}){n&&n.active&&n.hide()}),a.show()),this.routes[n]={View:t,view:a,el:i}}start(){this.root.addEventListener("click",function(n){if(!(n.target instanceof HTMLAnchorElement)||n.target.classList.contains("team__a"))return;n.preventDefault();const e=n.target;console.log({pathname:e.pathname}),"/sign_out"!==e.pathname?this.open(e.pathname):o.emit("logout",null)}.bind(this)),window.addEventListener("popstate",function(){const n=window.location.pathname;this.open(n)}.bind(this));const n=window.location.pathname;this.open(n)}}(Z);var Q;K.register("/",class extends l{constructor(n){super(n,i.a)}render(){this.data=d,super.render()}}).register("/sign_in",q.view).register("/sign_up",H.view).register("/leaders",y.view).register("/about",class extends l{constructor(n){super(n,p.a)}render(){this.data=d,super.render()}}).register("/profile",J.view),o.on("logout",function(){c.delete({url:"/session"}).then(n=>{200===n.status&&(d.removeUser(),o.emit("userUpdate",null),X.open("/"))})}),Q=K.start.bind(K),c.get({url:"/user"}).then(n=>{200===n.status?n.json().then(n=>{d.setUser({...n}),Q()}):(console.log("No Auth"),d.removeUser(),Q())}).catch(n=>{console.log(n)});var X=e.default=K}]);